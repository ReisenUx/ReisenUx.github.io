<!DOCTYPE html>
<html lang="en">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="">
  <title>MySQL | 月战老兵月球基地</title>
  <meta name="author" content="ReisenU" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="数据库" />
  
  <meta name="description" content="一、MySQL 基础1、关系型数据库建立在关系模型基础上的数据库，表明了数据库中存储的数据之间的联系（一对一，一对多，多对多等）数据被存放在表中大部分关系型数据库都使用SQL操作数据库中的数据 2、常见的关系型数据库MySQL、Oracle、SQL Server、SQLite（wechat 聊天记录） 3、MySQL介绍关系型数据库，持久化存储系统中的一些数据。默认端口号 3306  二、存储引擎">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL">
<meta property="og:url" content="http://example.com/2022/02/22/MySQL/index.html">
<meta property="og:site_name" content="月战老兵月球基地">
<meta property="og:description" content="一、MySQL 基础1、关系型数据库建立在关系模型基础上的数据库，表明了数据库中存储的数据之间的联系（一对一，一对多，多对多等）数据被存放在表中大部分关系型数据库都使用SQL操作数据库中的数据 2、常见的关系型数据库MySQL、Oracle、SQL Server、SQLite（wechat 聊天记录） 3、MySQL介绍关系型数据库，持久化存储系统中的一些数据。默认端口号 3306  二、存储引擎">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/null">
<meta property="article:published_time" content="2022-02-22T10:51:47.000Z">
<meta property="article:modified_time" content="2022-03-30T08:28:29.457Z">
<meta property="article:author" content="ReisenU">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://unpkg.com/nprogress@0.2.0/nprogress.css" type="text/css" media="all">
  
  
    <link rel="stylesheet" href="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://unpkg.com/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/bg.webp');
        }
      }
    
  </style>
  
<meta name="generator" content="Hexo 6.0.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                                    
                                        <li><a href="/friends/"><i class="fa fa-paw"></i>好伙伴</a></li>
                                    
                                
                                    
                                        <li><a href="/"><i class="fa fa-link"></i>链接</a></li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">月战老兵月球基地</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>月战老兵月球基地</h2> <br />
                        <span>Lunar Capital</span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">MySQL</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2022-02-22</li>
                <li><i class="fa fa-user"></i> 作者 ReisenU</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~4.75K
                    
                    字
                </li>
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                本文最后编辑于 <time datetime="1648628909457"></time> 前，其中的内容可能需要更新。
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81MySQL-%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">一、MySQL 基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.1.</span> <span class="toc-text">1、关系型数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%B8%B8%E8%A7%81%E7%9A%84%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.</span> <span class="toc-text">2、常见的关系型数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81MySQL%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.</span> <span class="toc-text">3、MySQL介绍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">2.</span> <span class="toc-text">二、存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">1、存储引擎相关命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81MyISAM-%E5%92%8C-InnoDB-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.</span> <span class="toc-text">2、MyISAM 和 InnoDB 的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%91%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E8%A1%8C%E7%BA%A7%E9%94%81"><span class="toc-number">2.2.1.</span> <span class="toc-text">（１）是否支持行级锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%92%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E4%BA%8B%E5%8A%A1"><span class="toc-number">2.2.2.</span> <span class="toc-text">（２）是否支持事务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%93%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%A4%96%E9%94%AE"><span class="toc-number">2.2.3.</span> <span class="toc-text">（３）是否支持外键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%94%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%82%E5%B8%B8%E5%B4%A9%E6%BA%83%E5%90%8E%E7%9A%84%E5%AE%89%E5%85%A8%E6%81%A2%E5%A4%8D"><span class="toc-number">2.2.4.</span> <span class="toc-text">（４）是否支持数据库异常崩溃后的安全恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%95%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81-MVCC-%E5%A4%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-number">2.2.5.</span> <span class="toc-text">（５）是否支持 MVCC(多版本并发控制)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%85%B3%E4%BA%8E-MyISAM-%E5%92%8C-InnoDB-%E7%9A%84%E9%80%89%E6%8B%A9%E9%97%AE%E9%A2%98"><span class="toc-number">2.3.</span> <span class="toc-text">3、关于 MyISAM 和 InnoDB 的选择问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%94%81%E6%9C%BA%E5%88%B6%E4%B8%8E-InnoDB-%E9%94%81%E7%AE%97%E6%B3%95%EF%BC%88%E7%94%9F%E7%96%8F%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">三、锁机制与 InnoDB 锁算法（生疏）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98%EF%BC%88MySQL-8-0-%E7%89%88%E6%9C%AC%E5%90%8E%E7%A7%BB%E9%99%A4%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">四、查询缓存（MySQL 8.0 版本后移除）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BA%8B%E5%8A%A1%EF%BC%88Transaction%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">五、事务（Transaction）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">5.1.</span> <span class="toc-text">1、事务的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">5.2.</span> <span class="toc-text">2、数据库事务的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E7%89%B9%E6%80%A7"><span class="toc-number">5.3.</span> <span class="toc-text">3、事务的ACID特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E5%B8%A6%E6%9D%A5%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">5.4.</span> <span class="toc-text">4、并发事务带来哪些问题？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9A"><span class="toc-number">5.5.</span> <span class="toc-text">5、事务隔离级别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81MySQL%E7%9A%84%E9%BB%98%E8%AE%A4%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">5.6.</span> <span class="toc-text">6、MySQL的默认隔离级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E8%A1%A5%E5%85%85"><span class="toc-number">6.</span> <span class="toc-text">六、补充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%BF%AB%E7%85%A7%E8%AF%BB%E5%92%8C%E5%BD%93%E5%89%8D%E8%AF%BB"><span class="toc-number">6.1.</span> <span class="toc-text">1、快照读和当前读</span></a></li></ol></li></ol>
                </div>
            
            <hr />
            <h1 id="一、MySQL-基础"><a href="#一、MySQL-基础" class="headerlink" title="一、MySQL 基础"></a>一、MySQL 基础</h1><h2 id="1、关系型数据库"><a href="#1、关系型数据库" class="headerlink" title="1、关系型数据库"></a>1、关系型数据库</h2><p>建立在关系模型基础上的数据库，表明了数据库中存储的数据之间的联系（一对一，一对多，多对多等）<br>数据被存放在表中<br>大部分关系型数据库都使用SQL操作数据库中的数据</p>
<h2 id="2、常见的关系型数据库"><a href="#2、常见的关系型数据库" class="headerlink" title="2、常见的关系型数据库"></a>2、常见的关系型数据库</h2><p>MySQL、Oracle、SQL Server、SQLite（wechat 聊天记录）</p>
<h2 id="3、MySQL介绍"><a href="#3、MySQL介绍" class="headerlink" title="3、MySQL介绍"></a>3、MySQL介绍</h2><p>关系型数据库，持久化存储系统中的一些数据。<br>默认端口号 3306</p>
<hr>
<h1 id="二、存储引擎"><a href="#二、存储引擎" class="headerlink" title="二、存储引擎"></a>二、存储引擎</h1><h2 id="1、存储引擎相关命令"><a href="#1、存储引擎相关命令" class="headerlink" title="1、存储引擎相关命令"></a>1、存储引擎相关命令</h2><div class="xControl">
    <div class="xHeading"><div class="xIcon"><i class="fa fa-plus"></i></div><span>存储引擎相关命令</span></div>
    <div class="xContent"><div class="inner">
        <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">查看MySQL提供的存储引擎</span></span><br><span class="line"><span class="meta">mysql&gt; </span><span class="language-bash">show engines;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">查看MySQL当前默认的存储引擎</span></span><br><span class="line"><span class="meta">mysql&gt; </span><span class="language-bash">show variables like <span class="string">&#x27;%storage_engine%&#x27;</span>;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">查看表的存储引擎</span></span><br><span class="line"><span class="meta">mysql&gt; </span><span class="language-bash">show table like <span class="string">&quot;table_name&quot;</span>;</span></span><br></pre></td></tr></table></figure> 
    </div></div>
    </div>

<h2 id="2、MyISAM-和-InnoDB-的区别"><a href="#2、MyISAM-和-InnoDB-的区别" class="headerlink" title="2、MyISAM 和 InnoDB 的区别"></a>2、MyISAM 和 InnoDB 的区别</h2><p>MySQL 5.5 以前，默认存储引擎：MyISAM<br>MySQL 5.5 以后，默认存储引擎：InnoDB（事务性数据库引擎）</p>
<h3 id="（１）是否支持行级锁"><a href="#（１）是否支持行级锁" class="headerlink" title="（１）是否支持行级锁"></a>（１）是否支持行级锁</h3><div class="xControl">
    <div class="xHeading"><div class="xIcon"><i class="fa fa-plus"></i></div><span>1</span></div>
    <div class="xContent"><div class="inner">
        <p>MyISAM：只有 表级锁<br>InnoDB：有 行级锁 和 表级锁，默认 行级锁</p>
<p>表级锁：在上锁时锁住整张表，处理并发时效率更低<br>因此，InnoDB在并发情况下，性能更好。</p>
 
    </div></div>
    </div>

<h3 id="（２）是否支持事务"><a href="#（２）是否支持事务" class="headerlink" title="（２）是否支持事务"></a>（２）是否支持事务</h3><div class="xControl">
    <div class="xHeading"><div class="xIcon"><i class="fa fa-plus"></i></div><span>2</span></div>
    <div class="xContent"><div class="inner">
        <p>MyISAM：不提供事务支持<br>InnoDB：提供事物支持，具有 提交（commit） 和 回滚（rollback）事务的能力。</p>
 
    </div></div>
    </div>

<h3 id="（３）是否支持外键"><a href="#（３）是否支持外键" class="headerlink" title="（３）是否支持外键"></a>（３）是否支持外键</h3><div class="xControl">
    <div class="xHeading"><div class="xIcon"><i class="fa fa-plus"></i></div><span>3</span></div>
    <div class="xContent"><div class="inner">
        <p>MyISAM：不支持外键<br>InnoDB：支持外键</p>
<blockquote>
<p>一般不建议数据库层面使用外键，最好在应用层面解决，但这样会对数据一致性构成威胁。</p>
</blockquote>
 
    </div></div>
    </div>

<h3 id="（４）是否支持数据库异常崩溃后的安全恢复"><a href="#（４）是否支持数据库异常崩溃后的安全恢复" class="headerlink" title="（４）是否支持数据库异常崩溃后的安全恢复"></a>（４）是否支持数据库异常崩溃后的安全恢复</h3><div class="xControl">
    <div class="xHeading"><div class="xIcon"><i class="fa fa-plus"></i></div><span>4</span></div>
    <div class="xContent"><div class="inner">
        <p>MyISAM：不支持安全恢复<br>InnoDB：支持安全恢复</p>
<blockquote>
<p>InnoDB数据库异常崩溃后，数据库重新启动的时候会保证数据库恢复到崩溃前的状态。这个恢复的过程依赖于 <code>redo log</code><br><code>redo log（重做事务）</code>保证事务的持久性（Durability）<br><code>undo log（回滚日志）</code>保证事务的原子性（Atomicity）<br><code>锁机制、MVCC</code>保证事务的隔离性（Isolation）（参见ACID）<br>而保证了事物的持久性、原子性、隔离性后，一致性（Consistency）才能得到保障。</p>
</blockquote>
 
    </div></div>
    </div>

<h3 id="（５）是否支持-MVCC-多版本并发控制"><a href="#（５）是否支持-MVCC-多版本并发控制" class="headerlink" title="（５）是否支持 MVCC(多版本并发控制)"></a>（５）是否支持 MVCC(多版本并发控制)</h3><div class="xControl">
    <div class="xHeading"><div class="xIcon"><i class="fa fa-plus"></i></div><span>5</span></div>
    <div class="xContent"><div class="inner">
        <p>MyISAM：不支持 MVCC<br>InnoDB：支持 MVCC<br>MVCC 可以看做是行级锁的一个升级，可以有效减少加锁操作，提供性能</p>
 
    </div></div>
    </div>


<h2 id="3、关于-MyISAM-和-InnoDB-的选择问题"><a href="#3、关于-MyISAM-和-InnoDB-的选择问题" class="headerlink" title="3、关于 MyISAM 和 InnoDB 的选择问题"></a>3、关于 MyISAM 和 InnoDB 的选择问题</h2><p>一般都选择 InnoDB 存储引擎，读密集情况下可以选择 MyISAM，但不能保证上述不支持的操作。</p>
<blockquote>
<p>在很多已知场景中，InnoDB 的速度都要比 MyISAM快，尤其用到了<b>聚簇索引</b>，或者需要访问的数据都可以放入内存的应用</p>
</blockquote>
<hr>
<h1 id="三、锁机制与-InnoDB-锁算法（生疏）"><a href="#三、锁机制与-InnoDB-锁算法（生疏）" class="headerlink" title="三、锁机制与 InnoDB 锁算法（生疏）"></a>三、锁机制与 InnoDB 锁算法（生疏）</h1><p>MyISAM：<span class="blur">表级锁</span><br>InnoDB：<span class="blur">行级锁和表级锁，默认行级锁</span></p>
<p>表级锁：MySQL中锁定<b>粒度最大</b>，对当前操作表加锁</p>
<ul>
<li>优点：实现简单，资源消耗小，加锁快，不会出现死锁。</li>
<li>缺点：锁定粒度最大，触发锁冲突的概率最高，并发度最低，因此不支持MVCC。</li>
</ul>
<p>行级锁：MySQL中锁定<b>粒度最小</b>，对当前操作行加锁</p>
<ul>
<li>优点：大大减少数据库操作的冲突，加锁粒度最小，并发度高。</li>
<li>缺点：加锁的开销也最大，加锁慢，会出现死锁。</li>
</ul>
<p>InnoDB 存储引擎的三种锁算法：</p>
<ul>
<li>Record Lock：记录锁，单个行记录上的锁</li>
<li>Gap Lock：间隙锁，锁定一个范围，不包括记录本身，区间(x, y)</li>
<li>Next-key Lock：Record + Gap 临键锁，锁定一个范围，包括记录本身，区间(x, y]<br><code>锁算法参照：幻读</code></li>
</ul>
<h1 id="四、查询缓存（MySQL-8-0-版本后移除）"><a href="#四、查询缓存（MySQL-8-0-版本后移除）" class="headerlink" title="四、查询缓存（MySQL 8.0 版本后移除）"></a>四、查询缓存（MySQL 8.0 版本后移除）</h1><p>my.cnf中加入以下配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">query_cache_type = 1</span><br><span class="line">query_cache_size = 600000</span><br></pre></td></tr></table></figure>

<p>或 MySQL 执行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set global query_cache_type = 1;</span><br><span class="line">set global query_cache_size = 600000;</span><br></pre></td></tr></table></figure>

<p>功能如其名，多次的同样查询条件会在缓存中直接返回结果。<br>查询条件：查询本身、当前要查询的数据库、客户端协议版本号等</p>
<p>查询不命中的情况<br>  1、任何两个查询在任何字符上的不同都会导致缓存不命中。<br>  2、查询中包含任何用户自定义函数、存储函数、用户变量、临时表、MySQL库中的系统表，结果也不会被缓存。<br>  3、缓存建立后，MySQL的查询缓存系统会跟踪涉及的表，若表发生变化，则相应缓存数据失效。</p>
<p>因此，缓存<b>虽然能提升数据库查询性能，但也带来额外的开销，查询要缓存，失效要销毁 </b><br>此外，<b>可以通过 sql_cache 和 sql_no_cache 来控制某个查询语句是否要进行缓存： </b></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select sql_no_cache count(*) from user;</span><br></pre></td></tr></table></figure>

<h1 id="五、事务（Transaction）"><a href="#五、事务（Transaction）" class="headerlink" title="五、事务（Transaction）"></a>五、事务（Transaction）</h1><h2 id="1、事务的概念"><a href="#1、事务的概念" class="headerlink" title="1、事务的概念"></a>1、事务的概念</h2><p>事务是<b>逻辑上的一组操作，要么都执行，要么都不执行</b>。<br>举例：存钱，类似于OS中同步互斥操作。</p>
<h2 id="2、数据库事务的概念"><a href="#2、数据库事务的概念" class="headerlink" title="2、数据库事务的概念"></a>2、数据库事务的概念</h2><p><code>注意，若没有特指 分布式事务，往往指的是 数据库事务</code><br>数据库事务：保证多个 SQL 语句构成逻辑上整体，<b>要么全部执行，要么全部不执行</b>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 开启一个事务</span><br><span class="line">START TRANSACTION;</span><br><span class="line"></span><br><span class="line"># 多条 SQL 语句......</span><br><span class="line">    SQL1</span><br><span class="line">    SQL2</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"># 提交事务</span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure>

<h2 id="3、事务的ACID特性"><a href="#3、事务的ACID特性" class="headerlink" title="3、事务的ACID特性"></a>3、事务的ACID特性</h2><p>  1、原子性（Atomicity）：事务是最小的执行单位，要么全部完成，要么都不起作用。<br>  2、一致性（Consistency）：执行事务前后，数据保持一致，转账举例，双方总额不变。<br>  3、隔离性（Isolation）：并发访问数据库时，一个用户的事物不被其他事物干扰，并发事物之间数据库独立。<br>  4、持久性（Durability）：一个事务被提交之后，它对数据库中数据的改变是持久的，即使数据库发生故障也不应该对其有任何的影响。</p>
<blockquote>
<p>数据事务的实现原理：<br>以InnoDB引擎为例：<br><code>redo log（重做日志）</code>保证事务的<b>持久性</b><br><code>undo log（回滚日志）</code>保证事务的<b>原子性</b><br><code>锁机制、MVCC</code>保证事务的<b>隔离性</b>（默认隔离级别<code>REPEATABLE-READ</code>）<br>保证事务的持久性、原子性、隔离性之后，一致性才能得到保障。</p>
</blockquote>
<h2 id="4、并发事务带来哪些问题？"><a href="#4、并发事务带来哪些问题？" class="headerlink" title="4、并发事务带来哪些问题？"></a>4、并发事务带来哪些问题？</h2><p>多个事务并发运行，经常会操作相同的数据来完成各自的任务（多个用户对同一数据进行操作），并发虽然是必须的，但可能会导致一些问题：</p>
<ul>
<li>脏读（Dirty read）：一个事务访问数据并对数据进行了修改，这种修改还没有提交到数据库中，这时另一个事务也访问了该数据。【此时数据修改并未提交】</li>
<li>丢失修改（Lost to modify）：T1 读取一个数据时，T2 也访问了该数据，则在 T1 中修改了这个数据后，T2 也修改了这个数据。【T1 的修改结果被丢失，称为丢失修改】</li>
<li>不可重复读（Unrepeatable read）：指在 T1 多次读同一数据，该事务还没结束时，T2 也访问该数据，则在 T1 的两次读数据之间，由于 T2 导致第一个事务两次读取的数据可能不一样。</li>
<li>幻读（Phantom read）：类似于不可重复读，在 T1 中读取了几行数据，T2 中插入了一些数据。随后的查询中，T1 就会发现多了一些原本不存在的记录。【产生幻觉，所以幻读】</li>
</ul>
<blockquote>
<p>不可重复读和幻读的区别：<br>不可重复读<code>修改</code>：多次读取一条记录发现其中某些列的值被修改；<br>幻读<code>新增或删除</code>：多次读取一条记录发现记录增多或减少了。</p>
</blockquote>
<h2 id="5、事务隔离级别："><a href="#5、事务隔离级别：" class="headerlink" title="5、事务隔离级别："></a>5、事务隔离级别：</h2><ul>
<li><code>READ-UNCOMMITTED（读取未提交RU）</code>：最低的隔离级别，允许读取尚未提交的数据变更<br>可能导致<b>脏读</b>、<b>幻读</b>或<b>不可重复读</b></li>
<li><code>READ-COMMITTED（读取已提交RC）</code>：允许读取并发事务已经提交的数据<br>可以阻止<b>脏读</b><br>可能导致<b>幻读</b>或<b>不可重复读</b></li>
<li><code>REPEATABLE-READ（可重复读RR）</code>：对同一字段的多次读取结果都是一致的，除非数据是被本身事务自己所修改<br>可以阻止<b>脏读</b>和<b>不可重复读</b><br>可能导致<b>幻读</b></li>
<li><code>SERIALIZABLE（可串行化）</code>：最高的隔离级别，完全服从ACID。所有事务依次逐个执行，这样事务之间就完全不可能产生干扰。<br>可以阻止<b>脏读</b>、<b>不可重复读</b>及<b>幻读</b></li>
</ul>
<h2 id="6、MySQL的默认隔离级别"><a href="#6、MySQL的默认隔离级别" class="headerlink" title="6、MySQL的默认隔离级别"></a>6、MySQL的默认隔离级别</h2><p>MySQL InnoDB 存储引擎的默认支持的隔离级别是<b>REPEATABLE-READ（可重读）</b><br>可以通过<code>SELECT @@tx_isolation;</code>或<code>SELECT @@transaction_isolation;</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt; </span><span class="language-bash">SELECT @@tx_isolation;</span></span><br><span class="line">+-----------------+</span><br><span class="line">| @@tx_isolation  |</span><br><span class="line">+-----------------+</span><br><span class="line">| REPEATABLE-READ |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure>

<blockquote>
<p>MySQL InnoDB 的 REPEATABLE-READ（可重读）并不保证避免幻读，需要应用使用加锁读来保证。即使用Next-Key Locks。</p>
</blockquote>
<p>隔离级别越低，事务请求的锁越少，所以大部分数据库系统的隔离级别都是 READ-COMMITTED（读取提交内容），但InnoDB 存储引擎默认使用 RR 并不会有任何性能损失。</p>
<p>InnoDB 存储引擎在<b>分布式事务</b>的情况下一般会用到<b>SERIALIZABLE（可串行化）</b>隔离级别。</p>
<blockquote>
<p>InnoDB 存储引擎提供了对 XA 事务的支持，并通过 XA 事务来支持分布式事务的实现。分布式事务指的是允许多个独立的事务资源（transactional resources）参与到一个全局的事务中。<br>事务资源通常是关系型数据库系统，但也可以是其他类型的资源。<br>全局事务要求在其中的所有参与的事物要么都提交，要么都回滚，这对于事务原有的 ACID 要求又有了提高。<br>此外，在使用分布式事务时，InnoDB 存储引擎的事务隔离级别必须设置为 SERIALIZABLE。</p>
</blockquote>
<h1 id="六、补充"><a href="#六、补充" class="headerlink" title="六、补充"></a>六、补充</h1><h2 id="1、快照读和当前读"><a href="#1、快照读和当前读" class="headerlink" title="1、快照读和当前读"></a>1、快照读和当前读</h2><ul>
<li>当前读：读取最新版本，并<code>对读取的记录加锁，阻塞其他事务同时改动相同记录，避免出现安全问题</code>。<br>  实现方式：Next-Key锁（Record Lock + Gap Lock）<br>其中：Gap Lock 只在 RR 甚至以上的隔离级别才会有，锁定的是一个区间。<br>1、主键或唯一索引，当前读时，where全部精确命中，只会加行记录锁<br>2、没有索引的列，当前读时，会加全表Gap Lock。<br>3、非唯一索引，条件部分命中(&gt;, &lt;, like 等)才会加 Gap Lock</li>
<li>快照读：单纯的select操作<br>其中：RC的每次select都生成一个快照读，RR开启事务后第一个select才是快照读的地方<br>快照读实现方式：<b>undo log + MVCC</b><br>事务ID：DB_TRX_ID<br>回滚指针：DB_ROLL_PT</li>
</ul>

        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://example.com/2022/02/22/MySQL/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://example.com/2022/02/22/MySQL/";
            const title         = "「MySQL」";
            const excerpt       = `一、MySQL 基础1、关系型数据库建立在关系模型基础上的数据库，表明了数据库中存储的数据之间的联系（一对一，一对多，多对多等）数据被存放在表中大部分关系型数据库都使用SQL操作数据库中的数据
2、常见的关系型数据库MySQL、Ora...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    <a class="tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a>
                </div>
                <div class="pull-date">
                <span>最后编辑：2022-03-30</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" 数据库" href="/2022/02/22/Database/">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" 计算机网络" href="/2022/02/25/network/">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/Ru.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center">人间归离复归离，借一浮生逃浮生</p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        文章目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81MySQL-%E5%9F%BA%E7%A1%80"><span class="toc-text">一、MySQL 基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1、关系型数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%B8%B8%E8%A7%81%E7%9A%84%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2、常见的关系型数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81MySQL%E4%BB%8B%E7%BB%8D"><span class="toc-text">3、MySQL介绍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-text">二、存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">1、存储引擎相关命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81MyISAM-%E5%92%8C-InnoDB-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">2、MyISAM 和 InnoDB 的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%91%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E8%A1%8C%E7%BA%A7%E9%94%81"><span class="toc-text">（１）是否支持行级锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%92%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E4%BA%8B%E5%8A%A1"><span class="toc-text">（２）是否支持事务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%93%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%A4%96%E9%94%AE"><span class="toc-text">（３）是否支持外键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%94%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%82%E5%B8%B8%E5%B4%A9%E6%BA%83%E5%90%8E%E7%9A%84%E5%AE%89%E5%85%A8%E6%81%A2%E5%A4%8D"><span class="toc-text">（４）是否支持数据库异常崩溃后的安全恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EF%BC%88%EF%BC%95%EF%BC%89%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81-MVCC-%E5%A4%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-text">（５）是否支持 MVCC(多版本并发控制)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%85%B3%E4%BA%8E-MyISAM-%E5%92%8C-InnoDB-%E7%9A%84%E9%80%89%E6%8B%A9%E9%97%AE%E9%A2%98"><span class="toc-text">3、关于 MyISAM 和 InnoDB 的选择问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%94%81%E6%9C%BA%E5%88%B6%E4%B8%8E-InnoDB-%E9%94%81%E7%AE%97%E6%B3%95%EF%BC%88%E7%94%9F%E7%96%8F%EF%BC%89"><span class="toc-text">三、锁机制与 InnoDB 锁算法（生疏）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BC%93%E5%AD%98%EF%BC%88MySQL-8-0-%E7%89%88%E6%9C%AC%E5%90%8E%E7%A7%BB%E9%99%A4%EF%BC%89"><span class="toc-text">四、查询缓存（MySQL 8.0 版本后移除）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BA%8B%E5%8A%A1%EF%BC%88Transaction%EF%BC%89"><span class="toc-text">五、事务（Transaction）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">1、事务的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">2、数据库事务的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E7%89%B9%E6%80%A7"><span class="toc-text">3、事务的ACID特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E5%B8%A6%E6%9D%A5%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-text">4、并发事务带来哪些问题？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9A"><span class="toc-text">5、事务隔离级别：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81MySQL%E7%9A%84%E9%BB%98%E8%AE%A4%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-text">6、MySQL的默认隔离级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E8%A1%A5%E5%85%85"><span class="toc-text">六、补充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%BF%AB%E7%85%A7%E8%AF%BB%E5%92%8C%E5%BD%93%E5%89%8D%E8%AF%BB"><span class="toc-text">1、快照读和当前读</span></a></li></ol></li></ol>
    </div>
</aside>
                
                

            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 0.6em;">动态规划</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 0.8em;">数据库</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.6em;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 0.6em;">计算机网络</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/2022/03/30/Git/"><i class="fa  fa-book"></i> Git</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/03/28/cppRest/"><i class="fa  fa-book"></i> cppRest</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/03/27/cpp11/"><i class="fa  fa-book"></i> cpp11</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/03/26/cppMemory/"><i class="fa  fa-book"></i> cppMemory</a>
            
          
        
          
          
            <a class="list-group-item" href="/2022/03/24/STL/"><i class="fa  fa-book"></i> STL</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://t.me/ReisenU"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="me" href="https://nya.one/@ReisenU"><i class="fa fa fa-share-alt-square"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/ReisenUx"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2022 月战老兵月球基地 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by ReisenU.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://unpkg.com/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>




    <script defer src="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="https://unpkg.com/meting@2/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="7292006123"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="https://unpkg.com/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://unpkg.com/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>